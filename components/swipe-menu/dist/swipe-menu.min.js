/*! wt-ui 2014-12-23 */
angular.module("swipe-menu",[]),angular.module("swipe-menu").directive("swipeMenu",function(){"use strict";window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(a){window.setTimeout(a,1e3/60)}}();var a="MSPointerDown",b="MSPointerUp",c="MSPointerMove";return window.PointerEvent&&(a="pointerdown",b="pointerup",c="pointermove"),window.PointerEventsSupport=!1,(window.PointerEvent||window.navigator.msPointerEnabled)&&(window.PointerEventsSupport=!0),{link:function(d,e,f){function g(a){var b={};return a.targetTouches?(b.x=a.targetTouches[0].clientX,b.y=a.targetTouches[0].clientY):(b.x=a.clientX,b.y=a.clientY),b}function h(a,b){var c;u&&(c="translateX("+b+"px)",t.style["-ms-transform"]=c,t.style["-webkit-transform"]=c,t.style["-moz-transform"]=c,t.style.transform=c),c="translateX("+a+"px)",e[0].style["-ms-transform"]=c,e[0].style["-webkit-transform"]=c,e[0].style["-moz-transform"]=c,e[0].style.transform=c}function i(){if(v){var a=w.x-x.x,b=z-a,c=0;u&&(c=-(u-b*u/t.clientWidth)),h(b,c),v=!1}}function j(a){switch(a){case p:case q:z=0,A=-u;break;case r:z=t.clientWidth,A=0}h(z,A),B=a}function k(){var a=w.x-x.x,b=p;z-=a,b=s>=y-o?a>0?q:r:z<t.clientWidth/2?q:r,j(b),e[0].style.transition="all 150ms ease-out",t.style.transition="all 150ms ease-out"}function l(a){a.preventDefault(),x=g(a);var b=z-(w.x-x.x);v||0>b||(v=!0,window.requestAnimFrame(i))}function m(a){a.preventDefault(),a.touches&&a.touches.length>0||(v=!1,window.PointerEventsSupport?(t.removeEventListener(c,function(a){a.preventDefault()},!0),document.removeEventListener(c,l,!0),document.removeEventListener(b,m,!0)):(t.removeEventListener("touchmove",function(a){a.preventDefault()},!0),document.removeEventListener("touchmove",l,!0),document.removeEventListener("touchend",m,!0),document.removeEventListener("touchcancel",m,!0),t.removeEventListener("mousemove",function(a){a.preventDefault()},!0),document.removeEventListener("mousemove",l,!0),document.removeEventListener("mouseup",m,!0)),y=new Date,k())}function n(a){a.preventDefault(),a.touches&&a.touches.length>1||(window.PointerEventsSupport?(t.addEventListener(c,function(a){a.preventDefault()},!0),document.addEventListener(c,l,!0),document.addEventListener(b,m,!0)):(t.addEventListener("touchmove",function(a){a.preventDefault()},!0),document.addEventListener("touchmove",l,!0),document.addEventListener("touchend",m,!0),document.addEventListener("touchcancel",m,!0),t.addEventListener("mousemove",function(a){a.preventDefault()},!0),document.addEventListener("mousemove",l,!0),document.addEventListener("mouseup",m,!0)),w=g(a),o=new Date,e[0].style.transition="initial")}var o,p=1,q=2,r=3,s=300,t=document.getElementById(f.swipeMenu),u=parseFloat(f.menuReturn),v=!1,w=null,x=null,y=null,z=0,A=-u,B=p;window.PointerEventsSupport?e[0].addEventListener(a,n,!0):(e[0].addEventListener("touchstart",n,!0),e[0].addEventListener("mousedown",n,!0))}}});