/*! wt-ui 2014-12-23 */
angular.module("pillbox",["key-enter"]),angular.module("pillbox").directive("pillbox",function(){"use strict";return{restrict:"AE",require:"keyEnter",replace:!0,template:'<ul class="pillbox-container"><li data-ng-repeat="tag in tags" data-ng-click="clickTag(tag);"><span data-ng-bind="tag"></span><a data-ng-show="showRemoveTagButton" data-ng-click="removeTag(tag);">x</a></li><li class="new-tag" data-ng-show="showInputField"><input type="text" data-key-enter data-key13="addTag();" data-key188="addTag();" placeholder="Add a tag" data-ng-model="newTagValue" /></li></ul>',scope:{tags:"=",onClick:"&",onAdd:"&",onRemove:"&"},link:function(a,b,c){a.showRemoveTagButton=!0,c.showRemoveTagButton&&(a.showRemoveTagButton="true"===c.showRemoveTagButton),a.showInputField=!0,c.showInputField&&(a.showInputField="true"===c.showInputField),a.clickTag=function(b){a.onClick({tag:b})},a.addTag=function(){var b=0,c=!1;for(a.tags||(a.tags=[]),b=0;b<a.tags.length;b+=1)if(a.tags[b]===a.newTagValue){c=!0;break}!c&&a.newTagValue&&(a.tags.push(a.newTagValue),a.onAdd({tag:a.newTagValue})),a.newTagValue=""},a.removeTag=function(b){var c=0;for(c=0;c<a.tags.length;c+=1)if(a.tags[c]===b){a.tags.splice(c,1),a.onRemove({tag:b});break}}}}});